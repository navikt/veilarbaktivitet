<?xml version="1.0" encoding="UTF-8"?>
<application xmlns="http://appconfig.aura.nav.no"
             xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
             xsi:schemaLocation="http://appconfig.aura.nav.no
             http://maven.adeo.no/xsd/appconfig.xsd ">

    <name>veilarbaktivitet</name>

    <selftest>
        <path>/veilarbaktivitet/internal/selftest.json</path>
        <humanReadablePath>/veilarbaktivitet/internal/selftest</humanReadablePath>
    </selftest>

    <artifacts>
        <ear groupId="no.nav.fo" artifactId="veilarbaktivitet-ear"/>
    </artifacts>

    <resources>
        <credential alias="srvveilarbaktivitet" mapToProperty="systembruker"/>
        <applicationCertificate alias="srvveilarbaktivitet"/>
        <datasource alias="veilarbaktivitetDataSource" jndi="java:jboss/jdbc/AktivitetDS">
            <pool maxPoolSize="300" minPoolSize="0"/>
        </datasource>
        <webservice alias="Aktoer_v2" mapToProperty="aktoer.endpoint"/>
        <baseUrl alias="isso-host"/>
        <baseUrl alias="isso-jwks"/>
        <baseUrl alias="isso-issuer"/>
        <credential alias="isso-rp-user"/>
    </resources>

    <exposed-services>
        <exposedSoap name="BehandleAktivitetsplanV1"
                     path="/veilarbaktivitet/ws/Aktivitet"
                     securityToken="SAML"
                     wsdlGroupId="no.nav.tjenester"
                     wsdlArtifactId="brukerdialog-behandleAktivitetsplan-v1-tjenestespesifikasjon"
                     wsdlVersion="${behandleaktivitetsplan.tjenestespesifikasjon.version}">
            <exportToZone>SBS</exportToZone>
        </exposedSoap>
        <exposedRest path="/veilarbaktivitet/api" name="veilArbAktivitetAPI"/>
    </exposed-services>

    <security serviceUserResourceAlias="srvveilarbaktivitet">
        <logins>
            <saml/>
        </logins>
    </security>

    <loadBalancer isAlive="veilarbaktivitet/internal/isAlive"/>
</application>